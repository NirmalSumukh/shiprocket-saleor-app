# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and update values for VPS deployment
# DO NOT commit .env to version control!
#
# Prerequisites:
#   1. Saleor backend running at saleor.leemasmart.com
#   2. DNS: shiprocket.leemasmart.com pointing to VPS IP
#   3. Traefik running on leemasmart-network

# ============================================
# APP CONFIGURATION
# ============================================
NODE_ENV=production
APP_DEBUG=false

# APL (App Permission Layer) - How app stores auth tokens
# Options: 
#   - file (simple, uses local file storage)
#   - saleor-cloud-apl (requires DATABASE_URL)
APL=file

# Secret key for app authentication (min 8 chars)
# Generate with: openssl rand -base64 32
SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET

# ============================================
# SALEOR CONFIGURATION
# ============================================
# Your Saleor GraphQL API URL
SALEOR_API_URL=https://saleor.leemasmart.com/graphql/

# App token (generated after installing app in Saleor Dashboard)
# Leave empty until you install the app
SALEOR_APP_TOKEN=

# Default sales channel (used when ?channel param not specified)
DEFAULT_CHANNEL=default-channel

# Additional channels (comma-separated, for reference)
# Your app supports multiple channels via ?channel=slug query parameter
# Example API calls:
#   /api/shiprocket/catalog/products?channel=default-channel
#   /api/shiprocket/catalog/products?channel=india-channel
# ADDITIONAL_CHANNELS=india-channel,us-channel

# ============================================
# PostgreSQL DATABASE (Only if APL=saleor-cloud-apl)
# ============================================
# Use internal hostname since app is on same Docker network as Saleor
# Format matches your Saleor backend .env format
# DATABASE_URL=postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
# Example with defaults: postgres://saleor:YOUR_PASSWORD@postgres:5432/saleor

# ============================================
# SHIPROCKET CONFIGURATION
# ============================================
# Get these from ShipRocket team after deploying this app
# and providing them your catalog/webhook endpoints
SHIPROCKET_API_KEY=
SHIPROCKET_SECRET_KEY=
SHIPROCKET_API_BASE_URL=https://checkout-api.shiprocket.com

# ============================================
# YOUR STOREFRONT
# ============================================
# Where your customers shop (React/Next.js storefront)
STOREFRONT_URL=https://leemasmart.com

# ============================================
# SECURITY & CORS
# ============================================
# Comma-separated list of allowed origins
# Include your storefront, Saleor dashboard, and app URL
ALLOWED_ORIGINS=https://leemasmart.com,https://saleor.leemasmart.com,https://shiprocket.leemasmart.com

# ============================================
# LOGGING
# ============================================
# Options: debug, info, warn, error
LOG_LEVEL=info

# ============================================
# OPTIONAL: RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# OPTIONAL: WEBHOOK RETRY
# ============================================
WEBHOOK_RETRY_MAX_ATTEMPTS=3
WEBHOOK_RETRY_DELAY_MS=300000
